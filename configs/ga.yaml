# Default GA config

ga:
  optimizer_type: ga       # "ga" or "cmaes"
  cma_sigma0: 0.3          # CMA-ES initial step size
  population: 128
  generations: 200
  elite: 8  # legacy (not used for next-gen; we keep io.topk as the preserved set)
  tournament_k: 5
  crossover_alpha: 0.5
  mutation_sigma: 0.15
  mutation_p: 0.2
  # Elite cloning: next generation = topk_keep + topk_clone_k * topk_clone_m + children
  # Set topk_clone_m=0 to disable cloning.
  topk_clone_k: 8
  topk_clone_m: 0
  topk_clone_sigma_min: 0.02
  topk_clone_sigma_max: 0.08
  chunk_size: 64
  seed: 0

design:
  seed_size: 16
  struct_size: 128
  enforce_symmetry: true

generator:
  backend: rule_mfs
  blur_sigma: 2.0
  threshold: 0.45
  mfs_radius_px: 8
  mfs_iters: 2

spectra:
  channels: 30
  wavelength_min_nm: 400.0
  wavelength_max_nm: 700.0
  rgb_weights:
    R: 1.0
    G: 2.0
    B: 1.0

loss:
  w_purity: 1.0
  w_abs: 0.0
  w_fill: 1.0
  fill_min: 0.2
  fill_max: 0.5
  purity_dist_w: 0.0    # spectral-distance weight: 0=uniform, >0=far-band leak penalized more

io:
  topk: 8
  print_every: 10
